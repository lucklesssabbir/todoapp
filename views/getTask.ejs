<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Task - <%= username %></title>
    <link rel="stylesheet" href="/getTask.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="edit-task-container">
      <header class="edit-task-header">
        <h1>Edit Task</h1>
        <p>Username: <%= username %></p>
      </header>

      <form id="edit-task-form" action="/editsave" method="POST">
        <input type="hidden" name="id" value="<%= task.id %>" />

        <div class="form-group">
          <label for="headline">Headline</label>
          <input
            type="text"
            id="headline"
            name="headline"
            value="<%= task.headline %>"
            required
          />
        </div>

        <div class="form-group checkbox-group">
          <label>Status</label>
          <input type="checkbox" id="status" name="status" <%= task.status ===
          'done' ? 'checked' : '' %> />
          <label for="status">Done</label>
        </div>

        <div class="form-group">
          <label for="details">Details</label>
          <textarea id="details" name="details" rows="4" required>
<%= task.details %></textarea
          >
        </div>

        <div class="form-group">
          <label>Created At</label>
          <p><%= new Date(task.createdAt).toLocaleString() %></p>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn save-btn">
            <i class="fas fa-save"></i> Save
          </button>
          <button
            type="button"
            class="btn cancel-btn"
            onclick="window.location.href='/tasks?username=<%= username %>'"
          >
            <i class="fas fa-times"></i> Cancel
          </button>
        </div>
      </form>
    </div>
    <script src="/getTask.js"></script>
  </body>
</html>
